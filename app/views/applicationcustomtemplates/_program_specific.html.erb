

<%= simple_form_for @applicationcustomtemplate, url: {action: "program_specific" } do |f| %>
  <strong>ADDING</strong>
  
  <%= f.input :id, as: :hidden %>

  <%= f.input :customtemplate_id, as: :hidden, input_html: { value: @ps.id } %> 

      
  <% @ps.customfields.each do |cf| %>     
    <%= f.simple_fields_for :customfieldvalues,@applicationcustomtemplate.customfieldvalues.build  do |val| %>

        <% if cf.field_type == "input_text" %>

          <%#= val.input :applicationcustomtemplate_id, as: :hidden, input_html: { value: @applicationcustomtemplate.id} %>
          <%= val.input :user_id, as: :hidden, input_html: { value: current_user.id } %>    
          <%= val.input :customfield_id, as: :hidden,  input_html: {value: cf.id} %>         
          <%= val.input :value, label: cf.field_label %>

        <% end %>

        <% if cf.field_type == "boolean" %>
       
          <%= val.input :user_id,as: :hidden, input_html: { value: current_user.id } %>    
          <%= val.input :customfield_id,as: :hidden, input_html: {value: cf.id } %>           
          <%= val.input :value, as: :radio_buttons %>
          
            
          <% end %>
      
      <% end %>

    <% end %> 
    
    
    

  <%= f.button :submit, "Save", name: "save" %>

<% end %>

